{% extends 'base.html' %}
{% block content %}
<div class="container">
  <h1>ブログアプリ</h1>
  <form action="/logout">
    <button type="submit" formmethod="POST">ログアウト</button>
  </form>
</div>
<div class="red">{{ username }}でログイン中</div>
<form action="/create">
  <input type="hidden" name="username" value="{{ username }}">
  <button type="submit" formmethod="POST">記事登録画面</button>
</form>
<hr>
{% for blogarticle in blogarticles|sort(attribute='id', reverse = True) %}
<article>
  <details>
    <summary class="red">{{ blogarticle.title }}</summary>
    <p>{{ blogarticle.body }}</p>
    <div class="inline">
      <form action="/update" class="inline" >
        <input type="hidden" name="post_id" value="{{ blogarticle.id }}">
        <input type="hidden" name="username" value="{{ username }}">
        <button type="submit" formmethod="POST">編集</button>
      </form>
      <form action="/delete">
        <input type="hidden" name="post_id" value="{{ blogarticle.id }}" id="">
        <input type="hidden" name="username" value="{{ username }}">
        <button type="submit" formmethod="POST">削除</button>
      </form>
    </div>
    <!-- <div>作成日時：{{ blogarticle.created_at }}</div> -->
  </details>
</article>
<hr>
{% endfor %}
{% endblock %}